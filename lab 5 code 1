<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±'—î–∫—Ç Ship (–ö–æ—Ä–∞–±–µ–ª—å) - –§–ª–æ—Ç</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #fff;
            min-height: 100vh;
        }
        .header {
            text-align: center;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #3498db;
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #3498db;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .subtitle {
            font-size: 1.2em;
            color: #95a5a6;
        }
        .fleet-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        .ship-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(52, 152, 219, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .ship-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
            border-color: #3498db;
        }
        .ship-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #3498db, #2ecc71);
        }
        .ship-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .ship-name {
            font-size: 1.5em;
            font-weight: bold;
            color: #2ecc71;
        }
        .ship-type {
            background: #e74c3c;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        .ship-info {
            margin-bottom: 20px;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px 0;
            border-bottom: 1px dashed rgba(255,255,255,0.05);
        }
        .info-label {
            color: #95a5a6;
            font-weight: bold;
        }
        .info-value {
            color: #ecf0f1;
        }
        .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: bold;
            margin: 5px 0;
        }
        .status-at-sea {
            background: rgba(52, 152, 219, 0.2);
            color: #3498db;
            border: 1px solid #3498db;
        }
        .status-in-port {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
            border: 1px solid #2ecc71;
        }
        .status-docked {
            background: rgba(241, 196, 15, 0.2);
            color: #f1c40f;
            border: 1px solid #f1c40f;
        }
        .ship-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        .action-btn {
            flex: 1;
            min-width: 100px;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: rgba(52, 152, 219, 0.3);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            text-align: center;
        }
        .action-btn:hover {
            background: #3498db;
            transform: scale(1.05);
        }
        .action-btn.special {
            background: rgba(231, 76, 60, 0.3);
        }
        .action-btn.special:hover {
            background: #e74c3c;
        }
        .fleet-summary {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 15px;
            margin-top: 40px;
            border: 2px solid #f1c40f;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .summary-item {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
        .summary-value {
            font-size: 2em;
            font-weight: bold;
            color: #f1c40f;
            margin: 10px 0;
        }
        .summary-label {
            color: #bdc3c7;
            font-size: 0.9em;
        }
        .control-panel {
            background: rgba(0, 0, 0, 0.5);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            border: 2px solid #9b59b6;
        }
        .control-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        .control-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(155, 89, 182, 0.4);
        }
        .console {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
            border: 1px solid #34495e;
            font-family: 'Courier New', monospace;
            max-height: 200px;
            overflow-y: auto;
        }
        .log-entry {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            color: #2ecc71;
        }
        .log-timestamp {
            color: #95a5a6;
            margin-right: 15px;
        }
        .ship-icon {
            font-size: 2em;
            margin-right: 10px;
            vertical-align: middle;
        }
        @keyframes sail {
            0% { transform: translateX(0); }
            100% { transform: translateX(100px); }
        }
        .sailing {
            animation: sail 2s linear infinite alternate;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üö¢ –§–ª–æ—Ç –ö–æ—Ä–∞–±–ª—ñ–≤ - –û–±'—î–∫—Ç Ship</h1>
        <p class="subtitle">–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É –∑ –º–µ—Ç–æ–¥–∞–º–∏ —Ç–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏</p>
    </div>

    <div class="control-panel">
        <h2>‚öôÔ∏è –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–ª–æ—Ç–æ–º</h2>
        <div class="control-buttons">
            <button class="control-btn" onclick="sendAllToSea()">üåä –í—Å—ñ –≤ –º–æ—Ä–µ</button>
            <button class="control-btn" onclick="returnAllToPort()">‚öì –í—Å—ñ –≤ –ø–æ—Ä—Ç</button>
            <button class="control-btn" onclick="performFleetInspection()">üîç –û–≥–ª—è–¥ —Ñ–ª–æ—Ç—É</button>
            <button class="control-btn" onclick="addNewShip()">üÜï –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∞–±–µ–ª—å</button>
            <button class="control-btn" onclick="simulateStorm()">‚õàÔ∏è –°–∏–º—É–ª—é–≤–∞—Ç–∏ —à—Ç–æ—Ä–º</button>
        </div>
    </div>

    <div id="fleetContainer" class="fleet-container">
    </div>

    <div class="fleet-summary">
        <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–ª–æ—Ç—É</h2>
        <div class="summary-grid">
            <div class="summary-item">
                <div class="summary-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∞–±–ª—ñ–≤</div>
                <div id="totalShips" class="summary-value">0</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">–ó–∞–≥–∞–ª—å–Ω–∏–π —Ç–æ–Ω–Ω–∞–∂</div>
                <div id="totalTonnage" class="summary-value">0</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">–í –º–æ—Ä–µ</div>
                <div id="atSeaCount" class="summary-value">0</div>
            </div>
            <div class="summary-item">
                <div class="summary-label">–£ –ø–æ—Ä—Ç—É</div>
                <div id="inPortCount" class="summary-value">0</div>
            </div>
        </div>
    </div>

    <div class="console">
        <h3>üìã –ñ—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π</h3>
        <div id="log"></div>
    </div>

    <script>
        class Ship {
            constructor(name, type, tonnage, yearBuilt, homePort) {
                this.id = Date.now() + Math.random();
                this.name = name;
                this.type = type;
                this.tonnage = tonnage; 
                this.yearBuilt = yearBuilt;
                this.homePort = homePort;
                this.status = 'in_port'; 
                this.position = { lat: 0, lng: 0 };
                this.speed = 0; 
                this.cargo = 0; 
                this.fuel = 100; 
                this.crew = 0;
                this.maxCrew = this.calculateMaxCrew();
                this.isSailing = false;
                this.log = [];
                
                this.logEvent(`–ö–æ—Ä–∞–±–µ–ª—å "${this.name}" —Å—Ç–≤–æ—Ä–µ–Ω–æ`);
            }
            
            
            calculateMaxCrew() {
                return Math.floor(this.tonnage / 100);
            }
            
            hireCrew(count) {
                const available = this.maxCrew - this.crew;
                if (count > available) {
                    this.logEvent(`–ù–µ –≤–¥–∞–ª–æ—Å—è –Ω–∞–±—Ä–∞—Ç–∏ ${count} —á–ª–µ–Ω—ñ–≤ –µ–∫—ñ–ø–∞–∂—É. –î–æ—Å—Ç—É–ø–Ω–æ –º—ñ—Å—Ü—å: ${available}`);
                    return false;
                }
                this.crew += count;
                this.logEvent(`–ù–∞–±—Ä–∞–Ω–æ ${count} —á–ª–µ–Ω—ñ–≤ –µ–∫—ñ–ø–∞–∂—É. –ó–∞–≥–∞–ª–æ–º: ${this.crew}/${this.maxCrew}`);
                return true;
            }
            
            sailToSea(speed = 20) {
                if (this.status === 'at_sea') {
                    this.logEvent(`${this.name} –≤–∂–µ –≤ –º–æ—Ä–µ!`);
                    return false;
                }
                
                if (this.crew < this.maxCrew * 0.3) {
                    this.logEvent(`–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –µ–∫—ñ–ø–∞–∂—É –¥–ª—è –≤–∏—Ö–æ–¥—É –≤ –º–æ—Ä–µ!`);
                    return false;
                }
                
                if (this.fuel < 30) {
                    this.logEvent(`–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–∞–ª–∏–≤–∞ –¥–ª—è –≤–∏—Ö–æ–¥—É –≤ –º–æ—Ä–µ!`);
                    return false;
                }
                
                this.status = 'at_sea';
                this.speed = speed;
                this.isSailing = true;
                this.position.lat = Math.random() * 180 - 90;
                this.position.lng = Math.random() * 360 - 180;
                
                this.logEvent(`üö¢ ${this.name} –≤–∏–π—à–æ–≤ —É –º–æ—Ä–µ –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é ${speed} –≤—É–∑–ª—ñ–≤`);
                return true;
            }
            
            returnToPort() {
                if (this.status === 'in_port') {
                    this.logEvent(`${this.name} –≤–∂–µ –≤ –ø–æ—Ä—Ç—É!`);
                    return false;
                }
                
                this.status = 'in_port';
                this.speed = 0;
                this.isSailing = false;
                this.position = { lat: 0, lng: 0 };
                
                this.logEvent(`‚öì ${this.name} –ø–æ–≤–µ—Ä–Ω—É–≤—Å—è –≤ –ø–æ—Ä—Ç ${this.homePort}`);
                return true;
            }
            
            loadCargo(percentage) {
                if (this.status !== 'in_port' && this.status !== 'docked') {
                    this.logEvent(`–ù–µ–º–æ–∂–ª–∏–≤–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤–∞–Ω—Ç–∞–∂ —É –º–æ—Ä—ñ!`);
                    return false;
                }
                
                if (this.cargo + percentage > 100) {
                    this.logEvent(`–ü–µ—Ä–µ–≤–∏—â–µ–Ω–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ—Å—Ç—å!`);
                    return false;
                }
                
                this.cargo += percentage;
                this.logEvent(`üì¶ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ ${percentage}% –≤–∞–Ω—Ç–∞–∂—É. –ó–∞–≥–∞–ª–æ–º: ${this.cargo}%`);
                return true;
            }
            
            unloadCargo(percentage) {
                if (this.cargo - percentage < 0) {
                    this.logEvent(`–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≤–∞–Ω—Ç–∞–∂—É –¥–ª—è —Ä–æ–∑–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è!`);
                    return false;
                }
                
                this.cargo -= percentage;
                this.logEvent(`üì¶ –†–æ–∑–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ ${percentage}% –≤–∞–Ω—Ç–∞–∂—É. –ó–∞–ª–∏—à–∏–ª–æ—Å—å: ${this.cargo}%`);
                return true;
            }
            
            refuel(amount) {
                if (this.fuel + amount > 100) {
                    this.fuel = 100;
                    this.logEvent(`–ë–∞–∫ –∑–∞–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–≤–Ω—ñ—Å—Ç—é`);
                } else {
                    this.fuel += amount;
                    this.logEvent(`–ó–∞–ø—Ä–∞–≤–ª–µ–Ω–æ ${amount}% –ø–∞–ª–∏–≤–∞. –ó–∞–≥–∞–ª–æ–º: ${this.fuel}%`);
                }
                return true;
            }
            
            simulateStorm() {
                if (this.status !== 'at_sea') {
                    this.logEvent(`–®—Ç–æ—Ä–º –Ω–µ –∑–∞–≥—Ä–æ–∂—É—î - –∫–æ—Ä–∞–±–µ–ª—å –≤ –ø–æ—Ä—Ç—É`);
                    return false;
                }
                
                const stormDamage = Math.random() * 20;
                this.fuel -= stormDamage;
                this.cargo = Math.max(0, this.cargo - stormDamage / 2);
                
                if (this.fuel <= 0) {
                    this.fuel = 0;
                    this.logEvent(`‚õàÔ∏è –®–¢–û–†–ú! –ö–æ—Ä–∞–±–µ–ª—å –∑–∞–ª–∏—à–∏–≤—Å—è –±–µ–∑ –ø–∞–ª–∏–≤–∞!`, 'error');
                } else {
                    this.logEvent(`‚õàÔ∏è –®—Ç–æ—Ä–º! –í—Ç—Ä–∞—á–µ–Ω–æ ${stormDamage.toFixed(1)}% –ø–∞–ª–∏–≤–∞ —Ç–∞ —á–∞—Å—Ç–∏–Ω—É –≤–∞–Ω—Ç–∞–∂—É`);
                }
                
                return true;
            }
            
            getInfo() {
                return {
                    name: this.name,
                    type: this.type,
                    tonnage: this.tonnage,
                    year: this.yearBuilt,
                    port: this.homePort,
                    status: this.status,
                    cargo: this.cargo,
                    fuel: this.fuel,
                    crew: this.crew,
                    maxCrew: this.maxCrew,
                    speed: this.speed
                };
            }
            
            getStatusText() {
                const statusMap = {
                    'at_sea': '–í –º–æ—Ä–µ',
                    'in_port': '–í –ø–æ—Ä—Ç—É',
                    'docked': '–ù–∞ —Å—Ç–æ—è–Ω—Ü—ñ'
                };
                return statusMap[this.status] || '–ù–µ–≤—ñ–¥–æ–º–æ';
            }
            
            getStatusClass() {
                const classMap = {
                    'at_sea': 'status-at-sea',
                    'in_port': 'status-in-port',
                    'docked': 'status-docked'
                };
                return classMap[this.status] || '';
            }
            
            logEvent(message, type = 'info') {
                const timestamp = new Date().toLocaleTimeString();
                const logEntry = {
                    time: timestamp,
                    message: message,
                    type: type
                };
                this.log.push(logEntry);
                
                addToGlobalLog(`${this.name}: ${message}`, type);
            }
            
            updatePosition() {
                if (this.status === 'at_sea' && this.isSailing) {
                    this.position.lat += (Math.random() - 0.5) * 0.1;
                    this.position.lng += (Math.random() - 0.5) * 0.1;
                    this.fuel -= 0.1;
                    if (this.fuel < 0) this.fuel = 0;
                }
            }
        }
        
        let fleet = [];
        
        function createInitialFleet() {
            const ships = [
                new Ship("–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞", "–í–∞–Ω—Ç–∞–∂–Ω–µ —Å—É–¥–Ω–æ", 50000, 2015, "–û–¥–µ—Å–∞"),
                new Ship("–ß–æ—Ä–Ω–æ–º–æ—Ä–µ—Ü—å", "–ü–∞—Å–∞–∂–∏—Ä—Å—å–∫–∏–π –ª–∞–π–Ω–µ—Ä", 80000, 2018, "–ú–∏–∫–æ–ª–∞—ó–≤"),
                new Ship("–®—Ç–æ—Ä–º", "–í—ñ–π—Å—å–∫–æ–≤–∏–π –∫–æ—Ä–∞–±–µ–ª—å", 30000, 2020, "–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å"),
                new Ship("–ù–µ–ø—Ç—É–Ω", "–ù–∞—É–∫–æ–≤–æ-–¥–æ—Å–ª—ñ–¥–Ω–µ —Å—É–¥–Ω–æ", 15000, 2019, "–•–µ—Ä—Å–æ–Ω")
            ];
            
            ships[0].hireCrew(120);
            ships[0].loadCargo(80);
            ships[0].refuel(100);
            
            ships[1].hireCrew(200);
            ships[1].loadCargo(40);
            ships[1].refuel(100);
            
            ships[2].hireCrew(80);
            ships[2].refuel(100);
            
            ships[3].hireCrew(60);
            ships[3].loadCargo(30);
            ships[3].refuel(100);
            
            ships[0].sailToSea(18);
            ships[2].sailToSea(25);
            
            fleet = ships;
            renderFleet();
            updateFleetSummary();
        }
        
        function renderFleet() {
            const container = document.getElementById('fleetContainer');
            container.innerHTML = '';
            
            fleet.forEach(ship => {
                const shipCard = document.createElement('div');
                shipCard.className = 'ship-card';
                shipCard.id = `ship-${ship.id}`;
                
                const info = ship.getInfo();
                
                shipCard.innerHTML = `
                    <div class="ship-header">
                        <div class="ship-name">${ship.name}</div>
                        <div class="ship-type">${ship.type}</div>
                    </div>
                    
                    <div class="ship-info">
                        <div class="info-row">
                            <span class="info-label">–¢–æ–Ω–Ω–∞–∂:</span>
                            <span class="info-value">${ship.tonnage.toLocaleString()} —Ç</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–†—ñ–∫ –ø–æ–±—É–¥–æ–≤–∏:</span>
                            <span class="info-value">${ship.yearBuilt}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–î–æ–º–∞—à–Ω—ñ–π –ø–æ—Ä—Ç:</span>
                            <span class="info-value">${ship.homePort}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–°—Ç–∞—Ç—É—Å:</span>
                            <span class="status ${ship.getStatusClass()}">${ship.getStatusText()}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–ï–∫—ñ–ø–∞–∂:</span>
                            <span class="info-value">${ship.crew}/${ship.maxCrew}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–í–∞–Ω—Ç–∞–∂:</span>
                            <span class="info-value">${ship.cargo}%</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–ü–∞–ª–∏–≤–æ:</span>
                            <span class="info-value">${ship.fuel.toFixed(1)}%</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">–®–≤–∏–¥–∫—ñ—Å—Ç—å:</span>
                            <span class="info-value">${ship.speed} –≤—É–∑–ª—ñ–≤</span>
                        </div>
                    </div>
                    
                    <div class="ship-actions">
                        <button class="action-btn" onclick="sailShip('${ship.id}')">
                            ${ship.status === 'at_sea' ? '‚öì –í –ø–æ—Ä—Ç' : 'üåä –í –º–æ—Ä–µ'}
                        </button>
                        <button class="action-btn" onclick="loadCargoShip('${ship.id}', 20)">
                            üì¶ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏
                        </button>
                        <button class="action-btn" onclick="refuelShip('${ship.id}', 30)">
                            ‚õΩ –ó–∞–ø—Ä–∞–≤–∏—Ç–∏
                        </button>
                        <button class="action-btn special" onclick="stormShip('${ship.id}')">
                            ‚õàÔ∏è –®—Ç–æ—Ä–º
                        </button>
                    </div>
                `;
                
                container.appendChild(shipCard);
            });
        }
        
        function sailShip(shipId) {
            const ship = fleet.find(s => s.id == shipId);
            if (!ship) return;
            
            if (ship.status === 'at_sea') {
                ship.returnToPort();
            } else {
                ship.sailToSea(15 + Math.random() * 10);
            }
            
            renderFleet();
            updateFleetSummary();
        }
        
        function loadCargoShip(shipId, amount) {
            const ship = fleet.find(s => s.id == shipId);
            if (!ship) return;
            
            ship.loadCargo(amount);
            renderFleet();
        }
        
        function refuelShip(shipId, amount) {
            const ship = fleet.find(s => s.id == shipId);
            if (!ship) return;
            
            ship.refuel(amount);
            renderFleet();
        }
        
        function stormShip(shipId) {
            const ship = fleet.find(s => s.id == shipId);
            if (!ship) return;
            
            ship.simulateStorm();
            renderFleet();
            updateFleetSummary();
        }
        
        function sendAllToSea() {
            fleet.forEach(ship => {
                if (ship.status !== 'at_sea') {
                    ship.hireCrew(Math.floor(ship.maxCrew * 0.8));
                    ship.refuel(100);
                    ship.sailToSea();
                }
            });
            renderFleet();
            updateFleetSummary();
            addToGlobalLog("–í—Å—ñ –∫–æ—Ä–∞–±–ª—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –º–æ—Ä–µ", "success");
        }
        
        function returnAllToPort() {
            fleet.forEach(ship => {
                if (ship.status === 'at_sea') {
                    ship.returnToPort();
                }
            });
            renderFleet();
            updateFleetSummary();
            addToGlobalLog("–í—Å—ñ –∫–æ—Ä–∞–±–ª—ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–æ –≤ –ø–æ—Ä—Ç", "success");
        }
        
        function performFleetInspection() {
            let totalCrew = 0;
            let totalCargo = 0;
            let totalFuel = 0;
            
            fleet.forEach(ship => {
                totalCrew += ship.crew;
                totalCargo += ship.cargo;
                totalFuel += ship.fuel;
            });
            
            addToGlobalLog(`–Ü–Ω—Å–ø–µ–∫—Ü—ñ—è —Ñ–ª–æ—Ç—É: ${fleet.length} –∫–æ—Ä–∞–±–ª—ñ–≤, –ï–∫—ñ–ø–∞–∂: ${totalCrew}, –í–∞–Ω—Ç–∞–∂: ${totalCargo}%, –ü–∞–ª–∏–≤–æ: ${totalFuel}%`, "info");
        }
        
        function addNewShip() {
            const shipTypes = ["–í–∞–Ω—Ç–∞–∂–Ω–µ —Å—É–¥–Ω–æ", "–ü–∞—Å–∞–∂–∏—Ä—Å—å–∫–∏–π –ª–∞–π–Ω–µ—Ä", "–í—ñ–π—Å—å–∫–æ–≤–∏–π –∫–æ—Ä–∞–±–µ–ª—å", "–ù–∞—É–∫–æ–≤–æ-–¥–æ—Å–ª—ñ–¥–Ω–µ —Å—É–¥–Ω–æ", "–¢–∞–Ω–∫–µ—Ä"];
            const ports = ["–û–¥–µ—Å–∞", "–ú–∏–∫–æ–ª–∞—ó–≤", "–°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å", "–•–µ—Ä—Å–æ–Ω", "–ë–µ—Ä–¥—è–Ω—Å—å–∫", "–ú–∞—Ä—ñ—É–ø–æ–ª—å"];
            
            const newShip = new Ship(
                `–ö–æ—Ä–∞–±–µ–ª—å-${fleet.length + 1}`,
                shipTypes[Math.floor(Math.random() * shipTypes.length)],
                Math.floor(Math.random() * 50000) + 10000,
                2010 + Math.floor(Math.random() * 15),
                ports[Math.floor(Math.random() * ports.length)]
            );
            
            newShip.hireCrew(Math.floor(newShip.maxCrew * 0.5));
            newShip.refuel(100);
            
            fleet.push(newShip);
            renderFleet();
            updateFleetSummary();
            
            addToGlobalLog(`–î–æ–¥–∞–Ω–æ –Ω–æ–≤–∏–π –∫–æ—Ä–∞–±–µ–ª—å: ${newShip.name}`, "success");
        }
        
        function simulateStorm() {
            let affectedShips = 0;
            fleet.forEach(ship => {
                if (ship.status === 'at_sea') {
                    ship.simulateStorm();
                    affectedShips++;
                }
            });
            
            renderFleet();
            updateFleetSummary();
            addToGlobalLog(`–®—Ç–æ—Ä–º —É—Ä–∞–∂–µ–Ω–æ ${affectedShips} –∫–æ—Ä–∞–±–ª—ñ–≤`, "warning");
        }
        
        function updateFleetSummary() {
            const totalShips = fleet.length;
            const totalTonnage = fleet.reduce((sum, ship) => sum + ship.tonnage, 0);
            const atSeaCount = fleet.filter(ship => ship.status === 'at_sea').length;
            const inPortCount = fleet.filter(ship => ship.status !== 'at_sea').length;
            
            document.getElementById('totalShips').textContent = totalShips;
            document.getElementById('totalTonnage').textContent = totalTonnage.toLocaleString();
            document.getElementById('atSeaCount').textContent = atSeaCount;
            document.getElementById('inPortCount').textContent = inPortCount;
        }
        
        function addToGlobalLog(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const color = type === 'error' ? '#e74c3c' : type === 'success' ? '#2ecc71' : type === 'warning' ? '#f1c40f' : '#3498db';
            
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.innerHTML = `<span class="log-timestamp">[${timestamp}]</span> <span style="color: ${color}">${message}</span>`;
            
            logDiv.prepend(logEntry);
            
            if (logDiv.children.length > 20) {
                logDiv.removeChild(logDiv.lastChild);
            }
        }
        
        function simulateTime() {
            fleet.forEach(ship => {
                ship.updatePosition();
            });
            
            setTimeout(simulateTime, 60000);
        }
        
        window.onload = function() {
            createInitialFleet();
            simulateTime();
            
            addToGlobalLog("–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–ª–æ—Ç–æ–º —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞", "success");
            addToGlobalLog("–°—Ç–≤–æ—Ä–µ–Ω–æ 4 –∫–æ—Ä–∞–±–ª—ñ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏", "info");
        };
    </script>
</body>
</html>
