<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–±'—î–∫—Ç Room (–ö—ñ–º–Ω–∞—Ç–∞) —Ç–∞ –ø–æ—Ö—ñ–¥–Ω—ñ –∫–ª–∞—Å–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #2c3e50;
            font-size: 2.8em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 1000px) {
            .content {
                grid-template-columns: 1fr;
            }
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .rooms-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .room-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
        }

        .room-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .room-card.dining {
            border-color: #e74c3c;
        }

        .room-card.living {
            border-color: #3498db;
        }

        .room-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
        }

        .room-card.dining::before {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        .room-card.living::before {
            background: linear-gradient(90deg, #3498db, #2980b9);
        }

        .room-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .room-title {
            font-size: 1.8em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .room-icon {
            font-size: 2em;
        }

        .room-type {
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .dining .room-type {
            background: #ffeaea;
            color: #e74c3c;
        }

        .living .room-type {
            background: #e3f2fd;
            color: #3498db;
        }

        .room-info {
            margin-bottom: 25px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid;
        }

        .info-item.dining {
            border-left-color: #e74c3c;
        }

        .info-item.living {
            border-left-color: #3498db;
        }

        .info-label {
            font-size: 0.9em;
            color: #7f8c8d;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-active {
            background: #2ecc71;
            box-shadow: 0 0 10px #2ecc71;
        }

        .status-inactive {
            background: #e74c3c;
            box-shadow: 0 0 10px #e74c3c;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 25px;
        }

        .btn {
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .console {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }

        .log-entry {
            padding: 10px;
            border-bottom: 1px solid #34495e;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .log-time {
            color: #95a5a6;
            margin-right: 15px;
        }

        .log-info { color: #3498db; }
        .log-success { color: #2ecc71; }
        .log-warning { color: #f39c12; }
        .log-error { color: #e74c3c; }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            border-color: #3498db;
            outline: none;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .floor-plan {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 10px;
            height: 400px;
            margin-top: 20px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
        }

        .floor-cell {
            border: 2px solid #ddd;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s;
        }

        .floor-cell.dining {
            background: #ffeaea;
            border-color: #e74c3c;
            color: #e74c3c;
        }

        .floor-cell.living {
            background: #e3f2fd;
            border-color: #3498db;
            color: #3498db;
        }

        .floor-cell.empty {
            background: #f8f9fa;
            color: #95a5a6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè† –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç–∞–º–∏</h1>
            <p class="subtitle">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø—Ä–æ—Ç–æ—Ç–∏–ø—ñ–≤ —Ç–∞ –Ω–∞—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è</p>
        </div>

        <div class="content">
            <div class="control-panel">
                <h2>‚öôÔ∏è –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç</h2>
                
                <div class="form-group">
                    <label for="roomType">–¢–∏–ø –∫—ñ–º–Ω–∞—Ç–∏:</label>
                    <select id="roomType">
                        <option value="dining">–á–¥–∞–ª—å–Ω—è (Dining Room)</option>
                        <option value="living">–í—ñ—Ç–∞–ª—å–Ω—è (Living Room)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="roomName">–ù–∞–∑–≤–∞ –∫—ñ–º–Ω–∞—Ç–∏:</label>
                    <input type="text" id="roomName" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ì–æ–ª–æ–≤–Ω–∞ —ó–¥–∞–ª—å–Ω—è" value="–ì–æ–ª–æ–≤–Ω–∞ —ó–¥–∞–ª—å–Ω—è">
                </div>

                <div class="form-group">
                    <label for="roomArea">–ü–ª–æ—â–∞ (–º¬≤):</label>
                    <input type="number" id="roomArea" min="10" max="200" value="30">
                </div>

                <div class="form-group">
                    <label for="roomWindows">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–∫–æ–Ω:</label>
                    <input type="number" id="roomWindows" min="1" max="10" value="3">
                </div>

                <button class="btn btn-primary" onclick="createRoom()" style="width: 100%; margin-top: 20px;">
                    üèóÔ∏è –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É
                </button>

                <div style="margin-top: 30px;">
                    <h3>–§—É–Ω–∫—Ü—ñ—ó —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</h3>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="btn btn-secondary" onclick="activateAllRooms()">
                            üîå –£–≤—ñ–º–∫–Ω—É—Ç–∏ –≤—Å—ñ
                        </button>
                        <button class="btn btn-warning" onclick="cleanAllRooms()">
                            üßπ –ü—Ä–∏–±—Ä–∞—Ç–∏ –≤—Å—ñ
                        </button>
                    </div>
                </div>
            </div>

            <div id="roomsContainer" class="rooms-container">
            </div>
        </div>

        <div class="section">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div class="stats-grid">
                <div class="stat-card" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                    <div class="stat-value" id="totalRooms">0</div>
                    <div class="stat-label">–í—Å—å–æ–≥–æ –∫—ñ–º–Ω–∞—Ç</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                    <div class="stat-value" id="totalArea">0</div>
                    <div class="stat-label">–ó–∞–≥–∞–ª—å–Ω–∞ –ø–ª–æ—â–∞ (–º¬≤)</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #2ecc71, #27ae60);">
                    <div class="stat-value" id="activeRooms">0</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω–∏—Ö –∫—ñ–º–Ω–∞—Ç</div>
                </div>
                <div class="stat-card" style="background: linear-gradient(135deg, #9b59b6, #8e44ad);">
                    <div class="stat-value" id="totalWindows">0</div>
                    <div class="stat-label">–í—ñ–∫–æ–Ω –≤—Å—å–æ–≥–æ</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìù –ñ—É—Ä–Ω–∞–ª –ø–æ–¥—ñ–π</h2>
            <div id="console" class="console">
            </div>
        </div>
    </div>

    <script>
        function Room(name, area, windows) {
            this.id = Date.now() + Math.random();
            this.name = name;
            this.area = area;
            this.windows = windows;
            this.lightsOn = false;
            this.temperature = 22;
            this.cleanliness = 100;
            this.isOccupied = false;
            this.createdAt = new Date();
            
            this.logEvent(`–ö—ñ–º–Ω–∞—Ç–∞ "${this.name}" —Å—Ç–≤–æ—Ä–µ–Ω–∞`);
        }

        Room.prototype.turnOnLights = function() {
            if (this.lightsOn) {
                this.logEvent(`–°–≤—ñ—Ç–ª–æ –≤–∂–µ —É–≤—ñ–º–∫–Ω–µ–Ω–æ`, 'warning');
                return false;
            }
            this.lightsOn = true;
            this.logEvent(`–°–≤—ñ—Ç–ª–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ`);
            return true;
        };
        
        Room.prototype.turnOffLights = function() {
            if (!this.lightsOn) {
                this.logEvent(`–°–≤—ñ—Ç–ª–æ –≤–∂–µ –≤–∏–º–∫–Ω–µ–Ω–æ`, 'warning');
                return false;
            }
            this.lightsOn = false;
            this.logEvent(`–°–≤—ñ—Ç–ª–æ –≤–∏–º–∫–Ω–µ–Ω–æ`);
            return true;
        };
        
        Room.prototype.heatRoom = function(temperature) {
            if (temperature <= this.temperature) {
                this.logEvent(`–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–∂–µ –≤–∏—â–∞ –∑–∞ ${temperature}¬∞C`, 'warning');
                return false;
            }
            const oldTemp = this.temperature;
            this.temperature = temperature;
            this.logEvent(`–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø—ñ–¥–≤–∏—â–µ–Ω–æ –∑ ${oldTemp}¬∞C –¥–æ ${temperature}¬∞C`);
            return true;
        };
        
        Room.prototype.coolRoom = function(temperature) {
            if (temperature >= this.temperature) {
                this.logEvent(`–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–∂–µ –Ω–∏–∂—á–∞ –∑–∞ ${temperature}¬∞C`, 'warning');
                return false;
            }
            const oldTemp = this.temperature;
            this.temperature = temperature;
            this.logEvent(`–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –∑–Ω–∏–∂–µ–Ω–æ –∑ ${oldTemp}¬∞C –¥–æ ${temperature}¬∞C`);
            return true;
        };
        
        Room.prototype.cleanRoom = function() {
            if (this.cleanliness >= 100) {
                this.logEvent(`–ö—ñ–º–Ω–∞—Ç–∞ –≤–∂–µ —á–∏—Å—Ç–∞`, 'warning');
                return false;
            }
            this.cleanliness = 100;
            this.logEvent(`–ö—ñ–º–Ω–∞—Ç—É –ø—Ä–∏–±—Ä–∞–Ω–æ. –ß–∏—Å—Ç–æ—Ç–∞: 100%`);
            return true;
        };
        
        Room.prototype.occupyRoom = function() {
            if (this.isOccupied) {
                this.logEvent(`–ö—ñ–º–Ω–∞—Ç–∞ –≤–∂–µ –∑–∞–π–Ω—è—Ç–∞`, 'warning');
                return false;
            }
            this.isOccupied = true;
            this.cleanliness -= 10;
            this.turnOnLights();
            this.logEvent(`–ö—ñ–º–Ω–∞—Ç—É –∑–∞–π–Ω—è—Ç–æ. –ß–∏—Å—Ç–æ—Ç–∞ –∑–Ω–∏–∂–µ–Ω–∞ –¥–æ ${this.cleanliness}%`);
            return true;
        };
        
        Room.prototype.vacateRoom = function() {
            if (!this.isOccupied) {
                this.logEvent(`–ö—ñ–º–Ω–∞—Ç–∞ –≤–∂–µ –≤—ñ–ª—å–Ω–∞`, 'warning');
                return false;
            }
            this.isOccupied = false;
            this.turnOffLights();
            this.logEvent(`–ö—ñ–º–Ω–∞—Ç—É –∑–≤—ñ–ª—å–Ω–µ–Ω–æ`);
            return true;
        };
        
        Room.prototype.getRoomInfo = function() {
            return {
                id: this.id,
                name: this.name,
                area: this.area,
                windows: this.windows,
                lightsOn: this.lightsOn,
                temperature: this.temperature,
                cleanliness: this.cleanliness,
                isOccupied: this.isOccupied,
                type: this.type || 'Base Room'
            };
        };
        
        Room.prototype.logEvent = function(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = {
                time: timestamp,
                room: this.name,
                message: message,
                type: type
            };
            
            addToConsole(logEntry);
        };

        function DiningRoom(name, area, windows) {
            Room.call(this, name, area, windows);
            
            this.type = 'Dining Room';
            this.tableCount = Math.floor(area / 5);
            this.chairCount = this.tableCount * 4;
            this.hasKitchen = true;
            this.foodTemperature = 25;
            this.isServing = false;
        }

        DiningRoom.prototype = Object.create(Room.prototype);
        DiningRoom.prototype.constructor = DiningRoom;

        DiningRoom.prototype.startServing = function() {
            if (this.isServing) {
                this.logEvent(`–°–µ—Ä–≤—ñ—Ä—É–≤–∞–Ω–Ω—è –≤–∂–µ —Ä–æ–∑–ø–æ—á–∞—Ç–æ`, 'warning');
                return false;
            }
            this.isServing = true;
            this.turnOnLights();
            this.heatRoom(24);
            this.logEvent(`–°–µ—Ä–≤—ñ—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–∑–ø–æ—á–∞—Ç–æ. –ì–æ—Ç–æ–≤–æ ${this.tableCount} —Å—Ç–æ–ª—ñ–≤`);
            return true;
        };
        
        DiningRoom.prototype.stopServing = function() {
            if (!this.isServing) {
                this.logEvent(`–°–µ—Ä–≤—ñ—Ä—É–≤–∞–Ω–Ω—è –≤–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ`, 'warning');
                return false;
            }
            this.isServing = false;
            this.cleanRoom();
            this.logEvent(`–°–µ—Ä–≤—ñ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –ö—ñ–º–Ω–∞—Ç—É –ø—Ä–∏–±—Ä–∞–Ω–æ`);
            return true;
        };
        
        DiningRoom.prototype.heatFood = function(temperature) {
            if (temperature <= this.foodTemperature) {
                this.logEvent(`–á–∂–∞ –≤–∂–µ –Ω–∞–≥—Ä—ñ—Ç–∞ –¥–æ ${this.foodTemperature}¬∞C`, 'warning');
                return false;
            }
            const oldTemp = this.foodTemperature;
            this.foodTemperature = temperature;
            this.logEvent(`–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —ó–∂—ñ –ø—ñ–¥–≤–∏—â–µ–Ω–æ –∑ ${oldTemp}¬∞C –¥–æ ${temperature}¬∞C`);
            return true;
        };
        
        DiningRoom.prototype.getRoomInfo = function() {
            const baseInfo = Room.prototype.getRoomInfo.call(this);
            return {
                ...baseInfo,
                type: this.type,
                tableCount: this.tableCount,
                chairCount: this.chairCount,
                hasKitchen: this.hasKitchen,
                foodTemperature: this.foodTemperature,
                isServing: this.isServing
            };
        };

        function LivingRoom(name, area, windows) {
            Room.call(this, name, area, windows);
            
            this.type = 'Living Room';
            this.sofaCount = Math.floor(area / 10);
            this.tvSize = Math.min(Math.floor(area / 3), 85);
            this.hasFireplace = area > 30;
            this.entertainmentSystem = true;
            this.isEntertainmentOn = false;
        }

        LivingRoom.prototype = Object.create(Room.prototype);
        LivingRoom.prototype.constructor = LivingRoom;

        LivingRoom.prototype.turnOnEntertainment = function() {
            if (this.isEntertainmentOn) {
                this.logEvent(`–†–æ–∑–≤–∞–∂–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∂–µ —É–≤—ñ–º–∫–Ω–µ–Ω–∞`, 'warning');
                return false;
            }
            this.isEntertainmentOn = true;
            this.turnOnLights();
            this.logEvent(`–†–æ–∑–≤–∞–∂–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É —É–≤—ñ–º–∫–Ω–µ–Ω–æ. –¢–µ–ª–µ–≤—ñ–∑–æ—Ä ${this.tvSize}" –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ`);
            return true;
        };
        
        LivingRoom.prototype.turnOffEntertainment = function() {
            if (!this.isEntertainmentOn) {
                this.logEvent(`–†–æ–∑–≤–∞–∂–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–∂–µ –≤–∏–º–∫–Ω–µ–Ω–∞`, 'warning');
                return false;
            }
            this.isEntertainmentOn = false;
            this.logEvent(`–†–æ–∑–≤–∞–∂–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É –≤–∏–º–∫–Ω–µ–Ω–æ`);
            return true;
        };
        
        LivingRoom.prototype.lightFireplace = function() {
            if (!this.hasFireplace) {
                this.logEvent(`–£ –≤—ñ—Ç–∞–ª—å–Ω—ñ –Ω–µ–º–∞—î –∫–∞–º—ñ–Ω–∞`, 'error');
                return false;
            }
            this.heatRoom(26);
            this.logEvent(`–ö–∞–º—ñ–Ω —Ä–æ–∑–ø–∞–ª–µ–Ω–æ. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${this.temperature}¬∞C`);
            return true;
        };
        
        LivingRoom.prototype.organizeParty = function() {
            this.turnOnEntertainment();
            this.turnOnLights();
            this.heatRoom(24);
            this.occupyRoom();
            this.logEvent(`–í–µ—á—ñ—Ä–∫—É –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–æ! ${this.sofaCount} –¥–∏–≤–∞–Ω—ñ–≤ –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è`, 'success');
            return true;
        };
        
        LivingRoom.prototype.endParty = function() {
            this.turnOffEntertainment();
            this.turnOffLights();
            this.vacateRoom();
            this.cleanRoom();
            this.logEvent(`–í–µ—á—ñ—Ä–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –ö—ñ–º–Ω–∞—Ç—É –ø—Ä–∏–±—Ä–∞–Ω–æ`);
            return true;
        };
        
        LivingRoom.prototype.getRoomInfo = function() {
            const baseInfo = Room.prototype.getRoomInfo.call(this);
            return {
                ...baseInfo,
                type: this.type,
                sofaCount: this.sofaCount,
                tvSize: this.tvSize,
                hasFireplace: this.hasFireplace,
                entertainmentSystem: this.entertainmentSystem,
                isEntertainmentOn: this.isEntertainmentOn
            };
        };

        let rooms = [];

        function createRoom() {
            const type = document.getElementById('roomType').value;
            const name = document.getElementById('roomName').value || `–ö—ñ–º–Ω–∞—Ç–∞ ${rooms.length + 1}`;
            const area = parseFloat(document.getElementById('roomArea').value) || 30;
            const windows = parseInt(document.getElementById('roomWindows').value) || 3;
            
            let room;
            
            if (type === 'dining') {
                room = new DiningRoom(name, area, windows);
            } else {
                room = new LivingRoom(name, area, windows);
            }
            
            rooms.push(room);
            renderRooms();
            updateStatistics();
            
            document.getElementById('roomName').value = '';
        }

        function renderRooms() {
            const container = document.getElementById('roomsContainer');
            container.innerHTML = '';
            
            if (rooms.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; background: white; border-radius: 20px;">
                        <h3>–©–µ –Ω–µ–º–∞—î –∫—ñ–º–Ω–∞—Ç</h3>
                        <p style="color: #7f8c8d; margin-top: 10px;">–°—Ç–≤–æ—Ä—ñ—Ç—å –ø–µ—Ä—à—É –∫—ñ–º–Ω–∞—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞–Ω–µ–ª—ñ –∑–ª—ñ–≤–∞</p>
                    </div>
                `;
                return;
            }
            
            rooms.forEach(room => {
                const info = room.getRoomInfo();
                const card = document.createElement('div');
                card.className = `room-card ${room.type === 'Dining Room' ? 'dining' : 'living'}`;
                
                let specialInfoHTML = '';
                let specialButtonsHTML = '';
                
                if (room.type === 'Dining Room') {
                    specialInfoHTML = `
                        <div style="background: #ffeaea; padding: 15px; border-radius: 12px; margin-top: 15px;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <div><strong>–°—Ç–æ–ª–∏:</strong> ${info.tableCount}</div>
                                <div><strong>–°—Ç—ñ–ª—å—Ü—ñ:</strong> ${info.chairCount}</div>
                                <div><strong>–á–∂–∞:</strong> ${info.foodTemperature}¬∞C</div>
                                <div><strong>–°–µ—Ä–≤—ñ—Ä—É–≤–∞–Ω–Ω—è:</strong> ${info.isServing ? '–¢–∞–∫' : '–ù—ñ'}</div>
                            </div>
                        </div>
                    `;
                    
                    specialButtonsHTML = `
                        <button class="btn btn-danger" onclick="roomAction('${room.id}', 'serve')">
                            ${info.isServing ? 'üõë –ó—É–ø–∏–Ω–∏—Ç–∏' : 'üçΩÔ∏è –ü–æ—á–∞—Ç–∏'}
                        </button>
                        <button class="btn btn-warning" onclick="roomAction('${room.id}', 'heatFood')">
                            üî• –ù–∞–≥—Ä—ñ—Ç–∏ —ó–∂—É
                        </button>
                    `;
                } else {
                    specialInfoHTML = `
                        <div style="background: #e3f2fd; padding: 15px; border-radius: 12px; margin-top: 15px;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <div><strong>–î–∏–≤–∞–Ω–∏:</strong> ${info.sofaCount}</div>
                                <div><strong>–¢–í:</strong> ${info.tvSize}"</div>
                                <div><strong>–ö–∞–º—ñ–Ω:</strong> ${info.hasFireplace ? '–Ñ' : '–ù–µ–º–∞'}</div>
                                <div><strong>–†–æ–∑–≤–∞–≥–∏:</strong> ${info.isEntertainmentOn ? '–í–∫–ª' : '–í–∏–º–∫'}</div>
                            </div>
                        </div>
                    `;
                    
                    specialButtonsHTML = `
                        <button class="btn btn-danger" onclick="roomAction('${room.id}', 'entertain')">
                            ${info.isEntertainmentOn ? 'üì∫ –í–∏–º–∫–Ω—É—Ç–∏' : 'üì∫ –£–≤—ñ–º–∫–Ω—É—Ç–∏'}
                        </button>
                        <button class="btn btn-warning" onclick="roomAction('${room.id}', 'party')">
                            üéâ –í–µ—á—ñ—Ä–∫–∞
                        </button>
                    `;
                }
                
                card.innerHTML = `
                    <div class="room-header">
                        <div class="room-title">
                            <span class="room-icon">
                                ${room.type === 'Dining Room' ? 'üçΩÔ∏è' : 'üõãÔ∏è'}
                            </span>
                            ${room.name}
                        </div>
                        <div class="room-type">
                            ${room.type}
                        </div>
                    </div>
                    
                    <div class="room-info">
                        <div class="info-grid">
                            <div class="info-item ${room.type === 'Dining Room' ? 'dining' : 'living'}">
                                <div class="info-label">–ü–ª–æ—â–∞</div>
                                <div class="info-value">${info.area} –º¬≤</div>
                            </div>
                            <div class="info-item ${room.type === 'Dining Room' ? 'dining' : 'living'}">
                                <div class="info-label">–í—ñ–∫–æ–Ω</div>
                                <div class="info-value">${info.windows}</div>
                            </div>
                            <div class="info-item ${room.type === 'Dining Room' ? 'dining' : 'living'}">
                                <div class="info-label">–°–≤—ñ—Ç–ª–æ</div>
                                <div class="info-value">
                                    <span class="status-indicator ${info.lightsOn ? 'status-active' : 'status-inactive'}"></span>
                                    ${info.lightsOn ? '–£–≤—ñ–º–∫–Ω–µ–Ω–æ' : '–í–∏–º–∫–Ω–µ–Ω–æ'}
                                </div>
                            </div>
                            <div class="info-item ${room.type === 'Dining Room' ? 'dining' : 'living'}">
                                <div class="info-label">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
                                <div class="info-value">${info.temperature}¬∞C</div>
                            </div>
                            <div class="info-item ${room.type === 'Dining Room' ? 'dining' : 'living'}">
                                <div class="info-label">–ß–∏—Å—Ç–æ—Ç–∞</div>
                                <div class="info-value">${info.cleanliness}%</div>
                            </div>
                            <div class="info-item ${room.type === 'Dining Room' ? 'dining' : 'living'}">
                                <div class="info-label">–°—Ç–∞—Ç—É—Å</div>
                                <div class="info-value">
                                    <span class="status-indicator ${info.isOccupied ? 'status-active' : 'status-inactive'}"></span>
                                    ${info.isOccupied ? '–ó–∞–π–Ω—è—Ç–æ' : '–í—ñ–ª—å–Ω–∞'}
                                </div>
                            </div>
                        </div>
                        
                        ${specialInfoHTML}
                    </div>
                    
                    <div class="controls">
                        <button class="btn btn-primary" onclick="roomAction('${room.id}', 'lights')">
                            üí° ${info.lightsOn ? '–í–∏–º–∫–Ω—É—Ç–∏' : '–£–≤—ñ–º–∫–Ω—É—Ç–∏'}
                        </button>
                        <button class="btn btn-secondary" onclick="roomAction('${room.id}', 'clean')">
                            üßπ –ü—Ä–∏–±—Ä–∞—Ç–∏
                        </button>
                        <button class="btn btn-warning" onclick="roomAction('${room.id}', 'occupy')">
                            ${info.isOccupied ? 'üÜì –ó–≤—ñ–ª—å–Ω–∏—Ç–∏' : 'üë• –ó–∞–π–Ω—è—Ç–∏'}
                        </button>
                        
                        ${specialButtonsHTML}
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        function roomAction(roomId, action) {
            const room = rooms.find(r => r.id == roomId);
            if (!room) return;
            
            switch(action) {
                case 'lights':
                    room.lightsOn ? room.turnOffLights() : room.turnOnLights();
                    break;
                case 'clean':
                    room.cleanRoom();
                    break;
                case 'occupy':
                    room.isOccupied ? room.vacateRoom() : room.occupyRoom();
                    break;
                case 'heat':
                    room.heatRoom(25);
                    break;
                case 'cool':
                    room.coolRoom(20);
                    break;
                case 'serve':
                    if (room.type === 'Dining Room') {
                        room.isServing ? room.stopServing() : room.startServing();
                    }
                    break;
                case 'heatFood':
                    if (room.type === 'Dining Room') {
                        room.heatFood(room.foodTemperature + 10);
                    }
                    break;
                case 'entertain':
                    if (room.type === 'Living Room') {
                        room.isEntertainmentOn ? room.turnOffEntertainment() : room.turnOnEntertainment();
                    }
                    break;
                case 'party':
                    if (room.type === 'Living Room') {
                        room.organizeParty();
                    }
                    break;
            }
            
            renderRooms();
            updateStatistics();
        }

        function updateStatistics() {
            const totalRooms = rooms.length;
            const totalArea = rooms.reduce((sum, room) => sum + room.area, 0);
            const activeRooms = rooms.filter(room => room.lightsOn || room.isOccupied).length;
            const totalWindows = rooms.reduce((sum, room) => sum + room.windows, 0);
            
            document.getElementById('totalRooms').textContent = totalRooms;
            document.getElementById('totalArea').textContent = totalArea.toFixed(1);
            document.getElementById('activeRooms').textContent = activeRooms;
            document.getElementById('totalWindows').textContent = totalWindows;
        }

        function addToConsole(logEntry) {
            const consoleDiv = document.getElementById('console');
            const logDiv = document.createElement('div');
            logDiv.className = 'log-entry';
            
            let colorClass = 'log-info';
            if (logEntry.type === 'success') colorClass = 'log-success';
            else if (logEntry.type === 'warning') colorClass = 'log-warning';
            else if (logEntry.type === 'error') colorClass = 'log-error';
            
            logDiv.innerHTML = `
                <span class="log-time">[${logEntry.time}]</span>
                <span class="${colorClass}">
                    <strong>${logEntry.room}:</strong> ${logEntry.message}
                </span>
            `;
            
            consoleDiv.prepend(logDiv);
            
            if (consoleDiv.children.length > 20) {
                consoleDiv.removeChild(consoleDiv.lastChild);
            }
        }

        function activateAllRooms() {
            rooms.forEach(room => {
                room.turnOnLights();
                room.heatRoom(24);
            });
            renderRooms();
            updateStatistics();
            addToConsole({
                time: new Date().toLocaleTimeString(),
                room: '–°–∏—Å—Ç–µ–º–∞',
                message: '–£—Å—ñ –∫—ñ–º–Ω–∞—Ç–∏ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ',
                type: 'success'
            });
        }

        function cleanAllRooms() {
            rooms.forEach(room => {
                room.cleanRoom();
                room.turnOffLights();
                room.vacateRoom();
                if (room.type === 'Dining Room' && room.isServing) {
                    room.stopServing();
                }
                if (room.type === 'Living Room' && room.isEntertainmentOn) {
                    room.turnOffEntertainment();
                }
            });
            renderRooms();
            updateStatistics();
            addToConsole({
                time: new Date().toLocaleTimeString(),
                room: '–°–∏—Å—Ç–µ–º–∞',
                message: '–£—Å—ñ –∫—ñ–º–Ω–∞—Ç–∏ –ø—Ä–∏–±—Ä–∞–Ω—ñ —Ç–∞ –¥–µ–∞–∫—Ç–∏–≤–æ–≤–∞–Ω—ñ',
                type: 'success'
            });
        }

        window.onload = function() {
            setTimeout(() => {
                createRoom();
                
                setTimeout(() => {
                    document.getElementById('roomType').value = 'living';
                    document.getElementById('roomName').value = '–ì–æ–ª–æ–≤–Ω–∞ –≤—ñ—Ç–∞–ª—å–Ω—è';
                    document.getElementById('roomArea').value = 45;
                    document.getElementById('roomWindows').value = 4;
                    createRoom();
                }, 100);
            }, 500);
        };
    </script>
</body>
</html>
